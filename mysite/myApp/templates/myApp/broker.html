<!DOCTYPE html>
<html lang="en">

{% load static %}


<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Program</title>

  <!-- Custom fonts for this template -->
  <link href="{% static '/myApp/assets/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="{% static '/myApp/assets/css/sb-admin-2.min.css' %}" rel="stylesheet">

  <!-- Custom styles for this page -->
  <link href="{% static '/myApp/assets/vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">

  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="{% static '/myApp/assets/css/util.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static '/myApp/assets/css/main.css' %} ">
  <!--===============================================================================================-->

  <!-- 자동완성기능 -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script> 
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="">
        <div class="sidebar-brand-icon rotate-n-15">
          <i class="fas fa-laugh-wink"></i>
        </div>
        <div class="sidebar-brand-text mx-3"> Admin </div>
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <li class="nav-item active">
        <a class="nav-link" href="/select/">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>SCM 조회</span></a>
      </li>


      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        menu
      </div>

      <!-- Nav Item - Utilities Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities" aria-expanded="true" aria-controls="collapseUtilities">
          <i class="fas fa-fw fa-wrench"></i>
          <span>Insert</span>
        </a>
        <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities" data-parent="#accordionSidebar">
          <div class="bg-white py-2 collapse-inner rounded">
            <h6 class="collapse-header">데이터 입력</h6>
            <a class="collapse-item" href="/insert/employee/">임직원 등록</a>
            <a class="collapse-item" href="/insert/samsung_code/">삼성코드 및 담당자 등록</a>
            <a class="collapse-item" href="/insert/product/">제품 등록</a>
            <a class="collapse-item" href="/insert/broker/">알선사 등록</a>
            <a class="collapse-item" href="/insert/customer/">업체 등록</a>
            <a class="collapse-item" href="/insert/proposal/">품의 등록</a>
            <a class="collapse-item" href="/insert/approval_order/">승인 및 주문 등록</a>
            <a class="collapse-item" href="/insert/deposit/">입금</a>
            <a class="collapse-item" href="/insert/delivery/">배송 처리</a>
          </div>
        </div>
      </li>
    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Topbar -->
      <!-- <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"></nav> -->
        
      <!-- Begin Page Content -->
      <div class="container-fluid" >

        <!-- Page Heading -->
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0 text-gray-800" style="margin-top: 40px; margin-left: 10px;" >입력</h1>
        </div>
        <div class="card shadow mb-4">
          <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">알선자 등록</h6>
          </div>
          <div class="card-body">

            <!-- 파일업로드 --> 
            <form action="/upload/broker/" method="post" enctype="multipart/form-data" style="margin-left: 20px;" novalidate> {% csrf_token %} 
              File : 
              <input type="file" name="file" id="id_file" style="margin-right: 5px;"/>
              <input type="submit" value="업로드" /> 
            </form> 

            <!-- The styling for this basic card example is created by using default Bootstrap utility classes. By using utility classes, the style of the card component can be easily modified with no need for any custom CSS! -->
            <form id='broker' name = 'broker' method="post">{% csrf_token %} 
              <div class="limiter">
                <div class="container-table100">
                  <div class="wrap-table100">
                    <div class="table">
                      <div class="row header">
                        <div class="cell">
                          성명(회사명)
                        </div>
                        <div class="cell">
                          주민(사업)번호
                        </div>
                        <div class="cell">
                          주소
                        </div>
                        <div class="cell">
                          연락처
                        </div>
                        <div class="cell">
                          수수료율
                        </div>
                        <div class="cell">
                          소속
                        </div>
                        <div class="cell">
                          담당자
                        </div>
                      </div>
                      <script>
                        for(var f=0;f<1;f++){
                        var name = 'name' + f; var resident_registration_number = 'resident_registration_number' + f; 
                        var addresss = 'addresss' + f; var contact_number = 'contact_number' + f; var fee = 'fee' + f; 
                        var team = 'team' + f; var manager = 'manager';

                        document.write('<div class="row">');
                        document.write('<div class="cell" data-title="성명(회사명)">');
                        document.write("<input id= "+ name +" name = " + name + " type='text'/>");  
                        document.write("</div>");
                        document.write('<div class="cell" data-title="주민(사업)번호">');
                        document.write("<input id= "+ resident_registration_number +" name = " + resident_registration_number + " type='text'/>");  
                        document.write("</div>");
                        document.write('<div class="cell" data-title="주소">');
                        document.write("<input id= "+ addresss +" name = " + addresss + " type='text'/>");  
                        document.write("</div>");
                        document.write('<div class="cell" data-title="연락처">');
                        document.write("<input id= "+ contact_number +" name = " + contact_number + " type='text'/>");  
                        document.write("</div>");
                        document.write('<div class="cell" data-title="수수료율">');
                        document.write("<input id= "+ fee +" name = " + fee + " type='text'/>");   
                        document.write("</div>");
                        document.write('<div class="cell" data-title="소속">');
                        document.write("<select id="+ team +" name=" + team + ">");   
                        document.write("<option value='직판'>직판</option>");   
                        document.write("<option value='협업'>협업</option>");   
                        document.write("</select>");
                        document.write("</div>");
                        document.write('<div class="cell" data-title="담당자">');
                        document.write("<input id= "+ manager +" name = " + manager + " type='text'/>");   
                        document.write("</div>");
                        document.write("</div>");
                        }
                      </script>
                    </div>
                    <!-- <button onclick="add_row()">행 추가하기</button> -->
                    <input type="submit" class = 'sub' value="저장" onclick="javascript: form.action='/insert_check/broker/';"/>
                    
                </div> 
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- /.container-fluid -->
      <!-- Main Content  -->
      <div id="content">
        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800" style="margin-top: 40px; margin-left: 10px;" >조회</h1>
          </div>
          <!-- <p class="mb-4">DataTables is a third party plugin that is used to generate the demo table below. For more information about DataTables, please visit the <a target="_blank" href="https://datatables.net">official DataTables documentation</a>.</p> -->

          <!-- DataTales Example -->
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">알선자 조회</h6>
            </div>

            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>성명</th>
                      <th>주민(사업)번호</th>
                      <th>주소</th>
                      <th>연락처</th>
                      <th>수수료율</th>
                      <th>소속</th>
                      <th>담당자</th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                      <th>성명</th>
                      <th>주민(사업)번호</th>
                      <th>주소</th>
                      <th>연락처</th>
                      <th>수수료율</th>
                      <th>소속</th>
                      <th>담당자</th>
                    </tr>
                  </tfoot>
                  <tbody>
                    {% for list in broker_data %}
                      <tr>
                        <style>td{font-size: 14px;};</style>
                        <td>{{list.name|default_if_none:"" }}</td>
                        <td>{{list.resident_registration_number|default_if_none:"" }}</td>
                        <td>{{list.addresss|default_if_none:"" }}</td>
                        <td>{{list.contact_number|default_if_none:"" }}</td>
                        <td>{{list.fee|default_if_none:"" }}</td>
                        <td>{{list.team|default_if_none:"" }}</td>
                        <td>{{list.manager|default_if_none:"" }}</td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- nd of Main Content -->
      

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; Your Website 2020</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->
    </div>
    <!-- End of Content Wrapper -->
  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <script language="javascript">
    var isSave = '{{isSave}}'
    if (isSave == "성공"){
      alert("저장되었습니다.");
    }else if(isSave == "실패"){
      alert("저장에 실패했습니다.");
    }else if(isSave == "담당자 오류"){
      alert("입력한 담당자가 등록되어 있지 않습니다.");
    }
    var isUpload = '{{isUpload}}'
    if (isUpload == "성공"){
      alert("엑셀 업로드에 성공했습니다.");
    }else if(isUpload == "실패"){
      alert("엑셀 업로드에 실패했습니다");
    }else if(isUpload == "담당자 오류"){
      alert("입력한 담당자가 등록되어 있지 않습니다.");
    }
    $(function() {
      $("#manager").autocomplete({
        source : '/manager_autocomplete/', 
          select: function(event, ui) {
            console.log(ui.item);
          },
          focus: function(event, ui) {
            return false;
          }       
      });
    });
  </script>
  

  <!-- Bootstrap core JavaScript-->
  <!-- <script src="{% static '/myApp/assets/vendor/jquery/jquery.min.js' %}"></script> -->
  <script src="{% static '/myApp/assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

  <!-- Core plugin JavaScript-->
  <script src="{% static '/myApp/assets/vendor/jquery-easing/jquery.easing.min.js' %}"></script>

  <!-- Custom scripts for all pages-->
  <script src="{% static '/myApp/assets/js/sb-admin-2.min.js"></script>

  <!-- Page level plugins -->
  <script src="{% static '/myApp/assets/vendor/datatables/jquery.dataTables.min.js' %}"></script>
  <script src="{% static '/myApp/assets/vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>

  <!-- Page level custom scripts -->
  <script src="{% static '/myApp/assets/js/demo/datatables-demo.js' %}"></script>

  <style>
    th{
      font-size: 13px;
    }
    .col-sm-12{
      all: unset;
    }
    .dataTables_length{
      all: unset;
      margin-top: 2px;
    }
    .dataTables_filter{
      all: unset;
      float: right;
      margin-right: 10px;
    } 
    .form-control{
      border-color: black;
    }
    input.form-control.form-control-sm{
      outline-style: auto;
      padding: 0px;
      margin-top: 1px;
    }
    div.dataTables_wrapper div.dataTables_paginate {
      margin: 0;
      white-space: nowrap;
      text-align: center;
    }
    .pagination{
      all : unset;
      text-align: center;
    }
    .paginate_button {
      display: inline-block;
    }
    div.dataTables_wrapper > div.row{
      display : unset;
      justify-content: center;
    } 
    select {
      width: inherit;
      height: inherit;
      font-size: 13px;
    }
  </style>

</body>

</html>
